<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Resume ‚Äî Harsha Royal | UI Developer & Product Designer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    <meta name="description" content="View Harsha Royal's professional resume. UI Developer and Product Designer specializing in clean, scalable digital experiences.">
    <meta name="author" content="Harsha Royal">
    <link rel="shortcut icon" href="images/favicon.svg">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/inter.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        html { zoom: 1; }
        body {
            background: #ffffff;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
            font-family: "Inter", sans-serif;
            margin: 0; padding: 0;
        }

        /* ===== FIGMA UI THEME ===== */
        .figma-app {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            background: #ffffff;
            position: fixed;
            inset: 0;
            z-index: 10;
            font-size: 11px;
            color: rgba(0,0,0,0.8);
            user-select: none;
        }
        .figma-toolbar {
            height: 48px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            background: #ffffff;
            flex-shrink: 0;
            z-index: 20;
        }
        .toolbar-group {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .toolbar-icon {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            color: rgba(0,0,0,0.5);
            cursor: pointer;
            transition: all 0.2s;
        }
        .toolbar-icon.active, .toolbar-icon:hover {
            background: rgba(0,0,0,0.06);
            color: #333;
        }
        .toolbar-title {
            font-size: 12px;
            font-weight: 500;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
            letter-spacing: 0.02em;
        }
        .toolbar-title span { color: rgba(0,0,0,0.4); }
        .toolbar-title .filename { display: flex; align-items: center; gap: 4px; }
        .toolbar-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #FF7518;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 700;
            letter-spacing: 0.05em;
        }
        .figma-workspace {
            display: flex;
            flex: 1;
            height: calc(100vh - 48px);
            overflow: hidden;
        }
        .figma-sidebar {
            width: 240px;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
            z-index: 20;
        }
        .figma-sidebar-left { border-right: 1px solid rgba(0,0,0,0.1); }
        .figma-sidebar-right { border-left: 1px solid rgba(0,0,0,0.1); }
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            height: 40px;
            flex-shrink: 0;
        }
        .sidebar-tab {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            color: rgba(0,0,0,0.5);
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }
        .sidebar-tab.active {
            color: #333;
            border-bottom-color: #FF7518;
        }
        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: 8px 0;
        }
        .layer-item {
            display: flex;
            align-items: center;
            padding: 6px 16px 6px 20px;
            gap: 10px;
            cursor: pointer;
            opacity: 0.8;
            transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
            position: relative;
            color: rgba(0,0,0,0.8);
        }
        .layer-item:hover { background: rgba(0,0,0,0.04); }
        .layer-icon {
            opacity: 0.6;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-family: "Space Mono", monospace, sans-serif;
            color: rgba(0,0,0,0.6);
        }
        .layer-name {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-size: 11px;
            letter-spacing: 0.02em;
        }
        .prop-section {
            border-bottom: 1px solid rgba(0,0,0,0.1);
            padding: 16px;
        }
        .prop-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: 600;
            margin-bottom: 12px;
            color: rgba(0,0,0,0.85);
        }
        .prop-row {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        .prop-label {
            width: 24px;
            color: rgba(0,0,0,0.5);
            text-align: right;
            padding-right: 4px;
        }
        .prop-value {
            flex: 1;
            background: rgba(0,0,0,0.04);
            border: 1px solid transparent;
            border-radius: 4px;
            padding: 6px 8px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            font-family: inherit;
            color: #333;
            transition: border-color 0.2s;
        }
        .prop-value:hover { border-color: rgba(0,0,0,0.15); }
        .figma-canvas {
            flex: 1;
            position: relative;
            background: #e5e5e5;
            overflow: hidden;
            display: block;
            cursor: grab;
        }
        .figma-canvas:active {
            cursor: grabbing;
        }
        
        @media (max-width: 900px) { .figma-sidebar-right { display: none; } }
        @media (max-width: 600px) { .figma-sidebar-left { display: none; } }

        /* ===== CANVAS PANNING ===== */
        .pan-canvas {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            z-index: 5;
        }

        .grid-overlay {
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,0,0,0.03) 1px, transparent 1px);
            background-size: 24px 24px;
            z-index: 0;
        }

        /* ===== FIGMA FRAME LAYERS ===== */
        .figma-layer {
            position: absolute;
            width: 800px;
            height: 1132px; /* Standard A4 aspect ratio */
            background: #ffffff;
            box-shadow: 0 2px 14px rgba(0,0,0,0.06), 0 0 0 1px rgba(0,0,0,0.03);
            user-select: none;
            cursor: default;
            top: -566px; /* Centered based on new height */
            left: -400px;
        }

        .layer-title {
            position: absolute;
            top: -24px;
            left: 0;
            font-size: 11px;
            font-weight: 600;
            color: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
        }

        .layer-body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #ffffff;
            position: relative;
        }

        .pdf-viewer {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
            background: #fff;
            /* Remove scaling to prevent bluriness */
            transform: none;
        }

        /* The shield captures drag events only when we WANT to pan */
        .grab-shield {
            position: absolute;
            inset: 0;
            z-index: 100;
            display: none;
            background: transparent;
        }
        
        /* Show shield when Hand Tool is active OR we are actively dragging */
        .hand-tool .grab-shield,
        .grabbing .grab-shield {
            display: block;
        }

        .hand-tool {
            cursor: grab !important;
        }
        
        .grabbing {
            cursor: grabbing !important;
        }

        @media (max-width: 900px) { .figma-sidebar-right { display: none; } }
        @media (max-width: 600px) { .figma-sidebar-left { display: none; } .desktop-only { display: none !important; } }
    </style>
</head>
<body>
    <div class="figma-app">
        <!-- TOP TOOLBAR -->
        <div class="figma-toolbar">
            <div class="toolbar-group">
                <div style="width:14px; height:21px; display:flex; flex-wrap:wrap; gap:0; cursor:pointer;" class="toolbar-icon" onclick="window.location.href='index.html'">
                    <div style="width:7px;height:7px; background:#F24E1E; border-radius: 3.5px 0 0 3.5px"></div>
                    <div style="width:7px;height:7px; background:#FF7262; border-radius: 0 3.5px 3.5px 0"></div>
                    <div style="width:7px;height:7px; background:#A259FF; border-radius: 3.5px 0 0 3.5px"></div>
                    <div style="width:7px;height:7px; background:#1ABCFE; border-radius: 50%"></div>
                    <div style="width:7px;height:7px; background:#0ACF83; border-radius: 3.5px 0 3.5px 3.5px"></div>
                </div>
                <div class="toolbar-icon active" id="tool-cursor" title="Move Tool (Select Text)"><svg width="14" height="14" viewBox="0 0 12 12" fill="none"><path d="M2.5 11l8-4.5-5.5-.5L3 1.5v9z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/></svg></div>
                <div class="toolbar-icon" id="tool-hand" title="Hand Tool (Space to Pan)"><svg width="14" height="14" viewBox="0 0 12 12" fill="none"><path d="M3 5.5V3.5a1.5 1.5 0 1 1 3 0v2m0 0V4.5a1.5 1.5 0 1 1 3 0v1m-6 0v1a1.5 1.5 0 1 0 3 0v-1m3 0v1a1.5 1.5 0 1 0 3 0v-2" stroke="currentColor" stroke-width="1.2"/></svg></div>
            </div>

            <div class="toolbar-title">
                <a href="index.html" style="display: flex; align-items: center; gap: 6px; color: rgba(0,0,0,0.5); text-decoration: none; transition: color 0.2s;" onmouseover="this.style.color='#FF7518'" onmouseout="this.style.color='rgba(0,0,0,0.5)'">
                    <span>Home</span>
                </a>
                <span>/</span>
                <div class="filename">
                    Harsha_Resume_Final.fig
                </div>
            </div>

            <div class="toolbar-group">
                <div class="toolbar-avatar">HR</div>
                <div class="toolbar-icon" style="width: auto; padding: 0 12px; background: #FF7518; color: #fff; border-radius: 6px; font-weight: 500; font-size: 11px;" onclick="window.open('media/harsharesume.pdf')">Download</div>
                <div class="toolbar-icon"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></div>
                <div class="toolbar-icon" style="font-size: 11px; font-weight: 500;" id="zoom-level">100%</div>
            </div>
        </div>

        <div class="figma-workspace">
            <!-- LEFT SIDEBAR -->
            <div class="figma-sidebar figma-sidebar-left">
                <div class="sidebar-tabs">
                    <div class="sidebar-tab active">Layers</div>
                    <div class="sidebar-tab">Assets</div>
                </div>
                <div class="sidebar-content">
                    <div class="layer-item active-layer">
                        <div class="layer-icon">#</div>
                        <div class="layer-name">Resume_Frame</div>
                    </div>
                </div>
            </div>

            <!-- CANVAS -->
            <div class="figma-canvas" id="viewport">
                <div class="grid-overlay"></div>
                
                <div class="pan-canvas" id="panCanvas">
                    <div class="figma-layer" id="resumeFrame">
                        <div class="layer-title"># Harsha_Resume_2026 <span>(A4 Frame)</span></div>
                        <div class="layer-body">
                            <!-- Shield captures PANNING and ZOOMING events -->
                            <div class="grab-shield" id="interaction-shield"></div>
                            <div style="position: absolute; inset: 0; overflow: hidden; background: #fff;">
                                <iframe src="media/harsharesume.pdf#toolbar=0&navpanes=0&scrollbar=0&zoom=100" 
                                        id="pdf-frame"
                                        style="position: absolute; top: 0; left: -25%; width: 150%; height: 100%; border: none;"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT SIDEBAR -->
            <div class="figma-sidebar figma-sidebar-right">
                <div class="sidebar-tabs">
                    <div class="sidebar-tab">Design</div>
                    <div class="sidebar-tab active">Prototype</div>
                </div>
                <div class="sidebar-content">
                    <div class="prop-section">
                        <div class="prop-header">Interaction Modes</div>
                        <div style="padding: 10px; background: rgba(0,0,0,0.03); border-radius: 6px; line-height: 1.5;">
                            <p style="margin: 0 0 8px 0;">üñ±Ô∏è <strong>Move Tool (V)</strong>: Click links and select text directly on the resume.</p>
                            <p style="margin: 0;">‚úã <strong>Hand Tool (H)</strong>: Pan and zoom the entire workspace.</p>
                        </div>
                    </div>
                    <div class="prop-section">
                        <div class="prop-header">Export</div>
                        <div class="prop-row">
                            <div class="prop-label" style="width: auto; padding-right: 12px;">File</div>
                            <select class="prop-value" style="font-size: 11px; cursor: pointer; border: none; background: rgba(0,0,0,0.05); width: 100%;">
                                <option>PDF (Resume)</option>
                                <option>PNG (Snapshot)</option>
                                <option>JPG (Preview)</option>
                                <option>SVG (Vector)</option>
                            </select>
                        </div>
                        <div style="margin-top: 12px;">
                            <a href="media/harsharesume.pdf" download class="toolbar-icon" style="width: 100%; height: 32px; background: #FF7518; color: #fff; text-decoration: none; font-weight: 600; font-size: 11px; border-radius: 4px;">
                                Export Resume
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const viewport = document.getElementById('viewport');
        const panCanvas = document.getElementById('panCanvas');
        const gridOverlay = document.querySelector('.grid-overlay');
        const zoomLevelDisplay = document.getElementById('zoom-level');
        const toolCursor = document.getElementById('tool-cursor');
        const toolHand = document.getElementById('tool-hand');
        const shield = document.getElementById('interaction-shield');
        const pdfFrame = document.getElementById('pdf-frame');

        let isDragging = false;
        let startX, startY;
        let translateX = 0;
        let translateY = 0;
        let scale = 0.85; 
        
        let isSpacePressed = false;
        let isCtrlPressed = false;

        function updateTransform() {
            panCanvas.style.transform = `translate3d(${translateX}px, ${translateY}px, 0) scale(${scale})`;
            gridOverlay.style.backgroundPosition = `${translateX}px ${translateY}px`;
            gridOverlay.style.backgroundSize = `${24 * scale}px ${24 * scale}px`;
            zoomLevelDisplay.innerText = `${Math.round(scale * 100)}%`;
        }

        function updateTools() {
            // If dragging, panning, or zooming -> Block PDF to catch events
            if (isSpacePressed || isCtrlPressed || isDragging) {
                viewport.classList.add('hand-tool');
                shield.style.display = 'block';
                pdfFrame.style.pointerEvents = 'none';
                if (isSpacePressed) {
                    toolHand.classList.add('active');
                    toolCursor.classList.remove('active');
                }
            } else {
                viewport.classList.remove('hand-tool');
                shield.style.display = 'none';
                pdfFrame.style.pointerEvents = 'auto';
                toolHand.classList.remove('active');
                toolCursor.classList.add('active');
            }
        }
        
        // Handle Mouse and Panning
        viewport.addEventListener('mousedown', (e) => {
            if (e.button === 1 || isSpacePressed || e.target === viewport || e.target === gridOverlay || e.target === shield) {
                isDragging = true;
                startX = e.clientX - translateX;
                startY = e.clientY - translateY;
                viewport.classList.add('grabbing');
                updateTools(); // Force shield up
                e.preventDefault();
            }
        });

        window.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            translateX = e.clientX - startX;
            translateY = e.clientY - startY;
            updateTransform();
        });

        window.addEventListener('mouseup', () => {
            isDragging = false;
            viewport.classList.remove('grabbing');
            updateTools(); // Allow shield to drop if tools aren't active
        });

        // Zooming & Panning logic
        window.addEventListener('wheel', (e) => {
            // Force canvas zoom if Ctrl is held, regardless of where the mouse is
            if (e.ctrlKey || e.metaKey) {
                e.preventDefault();
                const zoomSpeed = 0.001;
                const delta = -e.deltaY;
                const newScale = Math.min(Math.max(0.1, scale + delta * zoomSpeed * scale), 5);
                
                const rect = viewport.getBoundingClientRect();
                const mouseX = e.clientX - rect.left - rect.width/2;
                const mouseY = e.clientY - rect.top - rect.height/2;
                
                translateX -= (mouseX - translateX) * (newScale / scale - 1);
                translateY -= (mouseY - translateY) * (newScale / scale - 1);
                
                scale = newScale;
                updateTransform();
            } else {
                // Pan canvas via scroll - Always allow on this workspace to prevent iframe trapping
                e.preventDefault();
                translateY -= e.deltaY;
                translateX -= e.deltaX;
                updateTransform();
            }
        }, { passive: false, capture: true });

        // Keyboard shortcuts
        window.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                isCtrlPressed = true;
                updateTools();
            }
            if (e.code === 'Space') {
                if (!isSpacePressed) {
                    isSpacePressed = true;
                    updateTools();
                }
            }
            if (e.key.toLowerCase() === 'h') {
                isSpacePressed = true;
                updateTools();
            }
            if (e.key.toLowerCase() === 'v') {
                isSpacePressed = false;
                updateTools();
            }
            if (e.ctrlKey && e.code === 'Digit0') {
                e.preventDefault();
                scale = 0.85;
                translateX = 0;
                translateY = 0;
                updateTransform();
            }
        });

        window.addEventListener('keyup', (e) => {
            if (!e.ctrlKey && !e.metaKey) {
                isCtrlPressed = false;
            }
            if (e.code === 'Space') {
                isSpacePressed = false;
            }
            updateTools();
        });

        window.onload = () => {
            // Initial center align horizontally, but align top vertically
            const rect = viewport.getBoundingClientRect();
            // Align top of frame (y=0) to y=40px in workspace
            // Frame top y-coordinate relative to pan-canvas center (which is at viewport center) 
            // is -(1132 * scale / 2). 
            // Final screen y = (rect.height / 2) + translateY - (1132 * scale / 2) = 40
            translateY = 40 + (1132 * scale / 2) - (rect.height / 2);
            translateX = 0;
            
            updateTransform();
            updateTools();
        };

        // Prevent browser internal middle-click auto-scroll
        viewport.addEventListener('mousedown', (e) => {
            if (e.button === 1) e.preventDefault();
        });
    </script>
</body>
</html>
